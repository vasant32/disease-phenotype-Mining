OBJECTIVETwo meta-analyses of randomized trials of statins found increased risk of type 2 diabetes. One possible explanation is bias due to differential survival when patients who are at higher risk of diabetes survive longer under statin treatment.RESEARCH DESIGN AND METHODSWe used electronic medical records from 500 general practices in the U.K. and included data from 285,864 men and women aged 50-84 years from January 2000 to December 2010. We emulated the design and analysis of a hypothetical randomized trial of statins, estimated the observational analog of the intention-to-treat effect, and adjusted for differential survival bias using inverse-probability weighting.RESULTSDuring 1.2 million person-years of follow-up, there were 13,455 cases of type 2 diabetes and 8,932 deaths. Statin initiation was associated with increased risk of type 2 diabetes. The hazard ratio (95% CI) of diabetes was 1.45 (1.39-1.50) before adjusting for potential confounders and 1.14 (1.10-1.19) after adjustment. Adjusting for differential survival did not change the estimates. Initiating atorvastatin and simvastatin was associated with increased risk of type 2 diabetes.CONCLUSIONSIn this sample of the general population, statin therapy was associated with 14% increased risk of type 2 diabetes. Differential survival did not explain this increased risk.